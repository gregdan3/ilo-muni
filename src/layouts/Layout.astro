---
interface Frontmatter {
  title: string;
}

interface Props {
  frontmatter: Frontmatter;
}

import TokiPonaGif from "@data/buttons/tokipona_s.gif";
import GithubGif from "@data/buttons/github_s.gif";
import YouTubeGif from "@data/buttons/youtube_s.gif";

const { title } = Astro.props.frontmatter;

import { BASE_URL } from "@utils/constants";
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, height=device-height, user-scalable=yes, initial-scale=1.0"
    />
    <meta name="date" content="2024-08-10" />
    <meta property="og:title" content={title} />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://ilo.muni.la/" />
    <meta property="og:image" content=`${BASE_URL}/ilo-muni.png` />
    <meta property="og:locale" content="en_US" />
    <meta property="og:site_name" content="ilo Muni" />
    <meta
      property="og:description"
      content="Watch toki pona grow and change- now with graphs!"
    />

    <title>{title}</title>
    <link rel="icon" type="image/svg+xml" href=`${BASE_URL}/favicon.svg` />
    <link rel="icon" type="image/x-icon" href=`${BASE_URL}/favicon.ico` />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href=`${BASE_URL}/favicon-32x32.png`
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href=`${BASE_URL}/favicon-16x16.png`
    />
    <meta
      name="theme-color"
      media="(prefers-color-scheme: light)"
      content="#f2f2f2"
    />
    <meta
      name="theme-color"
      media="(prefers-color-scheme: dark)"
      content="#333333"
    />

    <script
      data-goatcounter="https://ilo-muni.goatcounter.com/count"
      async
      src="https://gc.zgo.at/count.js"></script>
  </head>

  <body>
    <div class="design">
      <header>
        <a href="/">
          <div class="logo">
            <img src=`${BASE_URL}/favicon.svg` />
            <h3>{title}</h3>
          </div>
        </a>
        <nav>
          <a href=`${BASE_URL}/`>Search</a>
          <!-- <a href=`${BASE_URL}/ranks`>Ranks</a> -->
          <a href=`${BASE_URL}/about`>About</a>
          <a href=`${BASE_URL}/help`>Help!</a>
        </nav>
      </header>

      <main>
        <div class="spacer"></div>

        <slot />
      </main>
      <footer>
        <div class="license">
          <!-- <div> -->
          <!--   <a href="https://github.com/gregdan3/ilo-muni">Code on GitHub</a> -->
          <!--   - -->
          <!--   <a href="https://github.com/gregdan3/ilo-muni/issues" -->
          <!--     >Report an issue</a -->
          <!--   > -->
          <!--   - -->
          <!--   <a href="https://gregdan3.com/sqlite/2024-11-29-trimmed.sqlite.gz" -->
          <!--     >Download the DB</a -->
          <!--   > -->
          <!-- </div> -->
          <div>
            Licensed under
            <a href="/LICENSE.AGPL-3.0-or-later.txt">AGPL-3.0-or-later</a>
            and
            <a href="/LICENSE.CC-BY-SA-4.0.txt">CC BY-SA-4.0</a>
          </div>
        </div>

        <div class="socials">
          <a href="https://github.com/gregdan3/ilo-muni">
            <img src={GithubGif.src} alt="@gregdan3 on GitHub" class="social" />
          </a>
          <a href="https://youtube.com/@gregdan3d">
            <img
              src={YouTubeGif.src}
              alt="@gregdan3d on YouTube"
              class="social"
            />
          </a>
          <a href="https://mun.la/sona">
            <img
              src={TokiPonaGif.src}
              alt="toki pona lessons on mun.la"
              class="social"
            />
          </a>
        </div>
      </footer>
    </div>
  </body>
</html>

<style is:global>
  :root {
    --prim-fg: #444444;
    --prim-bg: #f2f2f2;
    --prim-ac: #555555;

    --sec-fg: #333333;
    --sec-bg: #d3d3d3;

    --spoil-fg: #443231;
    --spoil-bg: #e2c49c;

    --url: #3366cc;
    --urlvisited: #7755bb;

    --block-mark: 4px;
    --indent: 0.5em;
  }
  html {
    font-size: 16px;
    font-family:
      -apple-system, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell,
      "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
  }
  body {
    display: flex;
    flex-direction: column;
    flex: 1;
    margin: 0;
    min-height: 100vh;
    min-width: 100vw;
  }

  .design {
    display: flex;
    flex-direction: column;
    flex: 1;
    margin: 0 auto 0 auto;
    padding: 3%;
    padding-top: 1%;
    background: var(--prim-bg);
    color: var(--prim-fg);
    box-shadow:
      0 5px 10px rgba(0, 0, 0, 0.2),
      0 15px 40px rgba(0, 0, 0, 0.05);
  }

  main {
    flex: 1;
    line-height: 1.5em;
  }
  .spacer {
    width: 85vw;
    min-width: 85vw;
  }
  canvas {
    max-width: 90vw;
  }
  header {
    position: relative;
    display: flex;
    height: 3em;
    padding-block: 1em;
  }
  header * {
    color: inherit !important;
    text-decoration: none !important;
  }

  .logo {
    display: flex;
    position: absolute;
  }
  .logo h3 {
    margin-block: auto;
    margin-left: 0.5em;
  }
  .logo img {
    width: 4em;
    height: auto;
  }

  nav {
    display: flex;
    margin-left: auto;
    margin-right: auto;
    gap: 10%;
  }
  nav a {
    border: 0.3em outset lightgray;
    padding: 0.5em;
    font-weight: bold;
    box-shadow: 0.15em 0.15em 0 0 rgba(0, 0, 0, 1);
  }
  nav > a:hover {
    font-weight: 1000;
    box-shadow: 0.25em 0.25em 0 0 rgba(0, 0, 0, 1);
  }
  nav > a:active {
    border-style: inset;
    background: #dddddd;
    box-shadow: 0.2em 0.2em 0 0 rgba(0, 0, 0, 1);
  }

  footer {
    font-size: 0.75em;
    line-height: 1em;
    margin-bottom: 1em;
  }

  .license {
    margin-top: 0.5em;
    text-align: center;
    line-height: 1.8em;
  }
  .socials {
    display: flex;
    justify-content: center;
    gap: 3%;
    margin-top: 0.5em;
  }

  code {
    background: var(--sec-bg);
    padding: 0.1em;
  }

  p {
    margin: 0;
    margin-left: var(--indent);
    margin-right: var(--indent);
  }
  p + p {
    margin-top: 10px;
  }

  summary {
    cursor: pointer;
    padding: var(--indent);
  }
  summary > * {
    display: inline-block;
  }

  details {
    display: block;
    color: var(--spoil-fg);
    background: var(--spoil-bg);
    border-left: var(--block-mark) solid var(--spoil-fg);
    margin: var(--indent);
  }
  details > p {
    padding: var(--indent);
  }
  details[open] {
    padding-bottom: 0.25em;
  }
  details[open] > summary {
    border-bottom: var(--block-mark) solid var(--spoil-fg);
  }

  blockquote {
    margin: var(--indent);
    padding: var(--indent);
  }
  blockquote {
    color: var(--sec-fg);
    background: var(--sec-bg);
    border-left: var(--block-mark) solid var(--sec-fg);
  }

  a {
    text-decoration: underline var(--url);
    color: var(--url);
  }
  a:hover {
    text-decoration: underline dotted;
  }
  a:visited {
    text-decoration: underline var(--urlvisited);
    color: var(--urlvisited);
  }

  .social {
    width: 88px;
    height: 31px;
    box-shadow: 0.1em 0.1em 0 0 rgba(0, 0, 0, 1);
    border: 2px solid var(--prim-fg);
    image-rendering: pixelated;
  }
  .social:hover {
    box-shadow: 0.2em 0.2em 0 0 rgba(0, 0, 0, 1);
  }
  .social:active {
    box-shadow: 0.15em 0.15em 0 0 rgba(0, 0, 0, 1);
  }

  @media (min-width: 600px) {
    .social {
      width: 110px;
      height: 38.75px;
    }
  }

  @media (min-width: 900px) {
    html {
      font-size: 18px;
    }
    main {
      line-height: 1.7em;
    }
    .social {
      width: 132px;
      height: 46.5px;
    }
  }
  @media (min-width: 1200px) {
    html {
      font-size: 20px;
    }
    .social {
      width: 176px;
      height: 62px;
    }
  }
  @media (min-width: 1500px) {
    html {
      font-size: 22px;
    }
  }
  @media (min-width: 1800px) {
    html {
      font-size: 24px;
    }
    .social {
      width: 264px;
      height: 93px;
    }
  }
  @media (pointer: none), (pointer: coarse) {
    html {
      font-size: 16px;
    }
    .design {
      max-width: 100%;
      padding: 5%;
      padding-top: 1%;
      margin: 0;
    }
    footer {
      margin-bottom: 5em;
    }
    .logo h3 {
      display: none;
    }
  }
</style>
